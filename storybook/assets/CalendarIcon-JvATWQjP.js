import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{r as c,R as ae}from"./index-D4lIrffr.js";const se="_fieldset_s5r8s_7",ie="_description_s5r8s_29",oe="_error_s5r8s_43",le="_inputWrapper_s5r8s_59",ce="_inputWrapperError_s5r8s_83",ue="_suffixButton_s5r8s_199",de="_suffixButtonInteractive_s5r8s_239",o={fieldset:se,description:ie,error:oe,inputWrapper:le,inputWrapperError:ce,suffixButton:ue,suffixButtonInteractive:de},E=t=>{const e=t.slice(0,2),n=t.slice(2,4),C=t.slice(4,8);return t.length>4?`${e}.${n}.${C}`:t.length>2?`${e}.${n}`:t.length>0?e:""},M=t=>(t||"").replace(/\D/g,""),j=t=>{let e=t;if(e.length>=2){const n=parseInt(e.substring(0,2),10);!isNaN(n)&&n>31&&(e="31"+e.substring(2))}if(e.length>=4){const n=parseInt(e.substring(2,4),10);!isNaN(n)&&n>12&&(e=e.substring(0,2)+"12"+e.substring(4))}return e.slice(0,8)},q=c.forwardRef((t,e)=>{const{label:n,suffixIcon:C,onSuffixClick:u,className:W,inputWrapperClassName:Z,inputClassName:L,value:g,defaultValue:$,onChange:x,readOnly:k,placeholder:F="dd.mm.åååå",id:d,name:S,required:P,disabled:v,onClick:O,onFocus:A,onBlur:z,autoComplete:G="off","aria-label":I,"aria-labelledby":R,description:N,error:p,...J}=t,h=g!==void 0,s=c.useRef(null);ae.useImperativeHandle(e,()=>s.current);const y=c.useCallback(a=>{const b=M(a),H=j(b);return E(H)},[]),[f,V]=c.useState(()=>y(g??$));c.useEffect(()=>{if(h){const a=y(g);a!==f&&(V(a),s.current&&s.current.value!==a&&(s.current.value=a))}},[g,h,f,y]);const K=c.useCallback(a=>{const b=a.target,H=b.value,te=f,ne=M(H).slice(0,8),T=j(ne),l=E(T);let i=0;const m=T.length;m<=2?i=m:m<=4?i=m+1:i=m+2,i=Math.min(i,l.length),requestAnimationFrame(()=>{if(s.current&&(V(l),s.current.value=l,s.current.setSelectionRange(i,i),(l!==te||h)&&x)){const re={...a,target:{...b,value:l}};x(re,l)}})},[f,h,x,y]),Q=[o.fieldset,W].filter(Boolean).join(" "),U=[o.inputWrapper,Z,p?o.inputWrapperError:""].filter(Boolean).join(" "),X=[L].filter(Boolean).join(" "),Y=[o.suffixButton,u?o.suffixButtonInteractive:""].filter(Boolean).join(" ");!n&&!I&&!R&&console.warn("Warning: DateInput component should have a label, aria-label, or aria-labelledby for accessibility.");const _=n&&typeof n=="string"?R||`${d}-label`:void 0,w=N?`${d}-desc`:void 0,B=p?`${d}-err`:void 0,ee=[w,B].filter(Boolean).join(" ")||void 0;return r.jsxs("div",{className:Q,children:[n&&typeof n=="string"?r.jsx("label",{id:_,htmlFor:d,children:n}):n,N&&r.jsxs("p",{id:w,className:o.description,children:[" ",N]}),r.jsxs("div",{className:U,children:[r.jsx("input",{ref:s,type:"text",inputMode:"numeric",pattern:"\\d{2}\\.\\d{2}\\.\\d{4}",maxLength:10,value:f,readOnly:k,placeholder:F,id:d,name:S,required:P,disabled:v,onClick:O,onChange:K,onFocus:A,onBlur:z,autoComplete:G,"aria-label":I,"aria-labelledby":_,"aria-describedby":ee,"aria-invalid":!!p,className:X,...J}),C&&r.jsx("button",{type:"button",className:Y,onClick:v?void 0:u,tabIndex:u&&!v?0:-1,"aria-hidden":!u,disabled:v,"aria-label":u?"Åpne datovelger":void 0,children:C})]}),p&&r.jsx("p",{id:B,className:o.error,role:"alert",children:p})]})});q.displayName="DateInput";q.__docgenInfo={description:"",methods:[],displayName:"DateInput",props:{label:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},suffixIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onSuffixClick:{required:!1,tsType:{name:"ReactMouseEventHandler",raw:"React.MouseEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},inputWrapperClassName:{required:!1,tsType:{name:"string"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},"aria-label":{required:!1,tsType:{name:"string"},description:""},"aria-labelledby":{required:!1,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},error:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},defaultValue:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:`(\r
  event: React.ChangeEvent<HTMLInputElement>,\r
  formattedValue: string,\r
) => void`,signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"},{type:{name:"string"},name:"formattedValue"}],return:{name:"void"}}},description:""}},composes:["Omit"]};const D=({title:t,...e})=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none","aria-hidden":t?void 0:!0,focusable:"false",...e,children:[t&&r.jsx("title",{children:t}),r.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 2.25C9.41421 2.25 9.75 2.58579 9.75 3V4.25H14.25V3C14.25 2.58579 14.5858 2.25 15 2.25C15.4142 2.25 15.75 2.58579 15.75 3V4.25H19.5C20.1904 4.25 20.75 4.80964 20.75 5.5V18.5C20.75 19.1904 20.1904 19.75 19.5 19.75H4.5C3.80964 19.75 3.25 19.1904 3.25 18.5V5.5C3.25 4.80964 3.80964 4.25 4.5 4.25H8.25V3C8.25 2.58579 8.58579 2.25 9 2.25ZM15.75 7C15.75 7.41421 15.4142 7.75 15 7.75C14.5858 7.75 14.25 7.41421 14.25 7V5.75H9.75V7C9.75 7.41421 9.41421 7.75 9 7.75C8.58579 7.75 8.25 7.41421 8.25 7V5.75H4.75V9.25H19.25V5.75H15.75V7ZM4.75 18.25V10.75H19.25V18.25H4.75ZM6.75 13C6.75 12.5858 7.08579 12.25 7.5 12.25H8.5C8.91421 12.25 9.25 12.5858 9.25 13C9.25 13.4142 8.91421 13.75 8.5 13.75H7.5C7.08579 13.75 6.75 13.4142 6.75 13ZM10.75 13C10.75 12.5858 11.0858 12.25 11.5 12.25H12.5C12.9142 12.25 13.25 12.5858 13.25 13C13.25 13.4142 12.9142 13.75 12.5 13.75H11.5C11.0858 13.75 10.75 13.4142 10.75 13ZM15.5 12.25C15.0858 12.25 14.75 12.5858 14.75 13C14.75 13.4142 15.0858 13.75 15.5 13.75H16.5C16.9142 13.75 17.25 13.4142 17.25 13C17.25 12.5858 16.9142 12.25 16.5 12.25H15.5ZM10.75 16C10.75 15.5858 11.0858 15.25 11.5 15.25H12.5C12.9142 15.25 13.25 15.5858 13.25 16C13.25 16.4142 12.9142 16.75 12.5 16.75H11.5C11.0858 16.75 10.75 16.4142 10.75 16ZM15.5 15.25C15.0858 15.25 14.75 15.5858 14.75 16C14.75 16.4142 15.0858 16.75 15.5 16.75H16.5C16.9142 16.75 17.25 16.4142 17.25 16C17.25 15.5858 16.9142 15.25 16.5 15.25H15.5ZM6.75 16C6.75 15.5858 7.08579 15.25 7.5 15.25H8.5C8.91421 15.25 9.25 15.5858 9.25 16C9.25 16.4142 8.91421 16.75 8.5 16.75H7.5C7.08579 16.75 6.75 16.4142 6.75 16Z",fill:"currentColor"})]});D.displayName="CalendarIcon";D.__docgenInfo={description:"",methods:[],displayName:"CalendarIcon",props:{title:{required:!1,tsType:{name:"string"},description:""}}};export{D as C,q as D};
