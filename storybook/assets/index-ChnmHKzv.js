import{r as n,j as m}from"./iframe-BdlBVaMh.js";import{a as L,c as q,o as A,f as I,s as E}from"./floating-ui.dom-BOb7AeKv.js";import{S as O}from"./index-B0SzS9-D.js";import{c as V}from"./lite-DaUVFjkg.js";import{u as j}from"./use-merge-refs-CuM6pwJa.js";const F=n.forwardRef(function({id:a,children:t,content:i,placement:r="top",autoPlacement:o=!0,open:k,className:T,...P},R){const w=n.useId(),[_,d]=n.useState(!1),g=n.useRef(null),h=n.useRef(null),M=j([h,R]),l=k??_,y=()=>{d(!0)},v=()=>{d(!1)};n.useEffect(()=>{var f;const e=h.current,c=g.current;if((f=e==null?void 0:e.togglePopover)==null||f.call(e,l),e&&(e.style.opacity=l?"1":"0"),e&&c&&l)return L(c,e,()=>{q(c,e,{placement:r,strategy:"fixed",middleware:[A(u=>{const p=getComputedStyle(u.elements.floating,"::before");return parseFloat(p.height)}),...o?[I({fallbackAxisSideDirection:"start"}),E()]:[],E(),$,W]}).then(({x:u,y:p})=>{e.style.translate=`${Math.round(u)}px ${Math.round(p)}px`})})},[l,r]),n.useEffect(()=>{const e=h.current,c=g.current,f=p=>{p.key==="Escape"&&d(!1)},u=p=>{const b=p.target,C=e==null?void 0:e.contains(b);!(c==null?void 0:c.contains(b))&&!C&&l&&d(!1)};return l&&(window.addEventListener("keydown",f),document.addEventListener("click",u)),()=>{window.removeEventListener("keydown",f),document.removeEventListener("click",u)}},[l]);const S=typeof t=="string"?"span":O;if(typeof t!="string"&&t.type===n.Fragment)return console.error("<Tooltip> children needs to be a single ReactElement that can receive a ref and not: <Fragment/> | <></>"),null;const z={[n.version.startsWith("19")?"popoverTarget":"popovertarget"]:a??w,[n.version.startsWith("19")?"popoverTargetAction":"popovertargetaction"]:"show"};return m.jsxs(m.Fragment,{children:[m.jsx(S,{ref:g,...z,onMouseEnter:y,onMouseLeave:v,onFocus:y,onBlur:v,children:t}),m.jsx("span",{onMouseEnter:y,onMouseLeave:v,ref:M,role:"tooltip",className:V("ds-tooltip",T),id:a??w,popover:"manual",...P,children:i})]})}),$={name:"ArrowPseudoElement",fn(s){const{elements:a,rects:t,placement:i}=s;let r=`${Math.round(t.reference.width/2+t.reference.x-s.x)}px`,o=`${Math.round(t.reference.height/2+t.reference.y-s.y)}px`;switch(i){case"top":o="100%";break;case"right":r="0";break;case"bottom":o="0";break;case"left":r="100%";break}return a.floating.style.setProperty("--dsc-tooltip-arrow-x",r),a.floating.style.setProperty("--dsc-tooltip-arrow-y",o),s}},W={name:"SafeAreaElement",fn(s){const{elements:a,placement:t}=s;let i="100%",r="var(--dsc-tooltip-arrow-size)",o="0px";switch(t){case"top":o="-50% 0%";break;case"right":r="100%",i="var(--dsc-tooltip-arrow-size)",o="-100% -50%";break;case"bottom":o="-50% -100%";break;case"left":r="100%",i="var(--dsc-tooltip-arrow-size)",o="0 -50%";break}return a.floating.style.setProperty("--_dsc-tooltip-safearea-height",r),a.floating.style.setProperty("--_dsc-tooltip-safearea-width",i),a.floating.style.setProperty("--_dsc-tooltip-safearea-translate",o),s}},x=F;try{x.displayName="Tooltip",x.__docgenInfo={description:"",displayName:"Tooltip",props:{"data-size":{defaultValue:null,description:"Changes size for descendant Designsystemet components. Select from predefined sizes.",name:"data-size",required:!1,type:{name:"Size"}},children:{defaultValue:null,description:`The element or string that triggers the tooltip.
@note If it is a string, it will be wrapped in a span.
@note If it is an element, it needs to be able to receive a ref.`,name:"children",required:!0,type:{name:"string | (ReactElement<unknown, string | JSXElementConstructor<any>> & RefAttributes<HTMLElement>)"}},content:{defaultValue:null,description:"Content of the tooltip",name:"content",required:!0,type:{name:"string"}},placement:{defaultValue:{value:"'top'"},description:"Placement of the tooltip on the trigger.",name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},autoPlacement:{defaultValue:{value:"true"},description:"Whether to enable auto placement.",name:"autoPlacement",required:!1,type:{name:"boolean"}},open:{defaultValue:null,description:`Whether the tooltip is open or not.
This overrides the internal state of the tooltip.`,name:"open",required:!1,type:{name:"boolean"}}}}}catch{}export{x as T};
