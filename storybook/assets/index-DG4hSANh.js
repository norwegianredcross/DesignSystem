import{r as u,R as le,j as i}from"./iframe-D8k-pviV.js";const ie="_fieldset_16fx7_2",se="_description_16fx7_14",oe="_error_16fx7_21",ue="_inputWrapper_16fx7_30",de="_inputWrapperError_16fx7_42",ce="_suffixButton_16fx7_80",fe="_suffixButtonInteractive_16fx7_100",s={fieldset:ie,description:se,error:oe,inputWrapper:ue,inputWrapperError:de,suffixButton:ce,suffixButtonInteractive:fe},k=a=>{const e=a.slice(0,2),t=a.slice(2,4),g=a.slice(4,8);return a.length>4?`${e}.${t}.${g}`:a.length>2?`${e}.${t}`:a.length>0?e:""},W=a=>(a||"").replace(/\D/g,""),$=a=>{let e=a;if(e.length>=2){const t=parseInt(e.substring(0,2),10);!isNaN(t)&&t>31&&(e="31"+e.substring(2))}if(e.length>=4){const t=parseInt(e.substring(2,4),10);!isNaN(t)&&t>12&&(e=e.substring(0,2)+"12"+e.substring(4))}return e.slice(0,8)},N=u.forwardRef((a,e)=>{const{label:t,suffixIcon:g,onSuffixClick:d,className:F,inputWrapperClassName:S,inputClassName:z,value:b,defaultValue:H,onChange:_,readOnly:L,placeholder:M="dd.mm.åååå",id:c,name:w,required:P,disabled:y,onClick:A,onFocus:T,onBlur:O,autoComplete:G="off","aria-label":V,"aria-labelledby":E,description:C,error:f,"data-color":J,"data-size":K,...Q}=a,v=b!==void 0,r=u.useRef(null);le.useImperativeHandle(e,()=>r.current);const x=u.useCallback(n=>{const h=W(n),I=$(h);return k(I)},[]),[p,D]=u.useState(()=>x(b??H));u.useEffect(()=>{if(v){const n=x(b);n!==p&&(D(n),r.current&&r.current.value!==n&&(r.current.value=n))}},[b,v,p,x]);const U=u.useCallback(n=>{const h=n.target,I=h.value,ae=p,ne=W(I).slice(0,8),j=$(ne),o=k(j);let l=0;const m=j.length;m<=2?l=m:m<=4?l=m+1:l=m+2,l=Math.min(l,o.length),requestAnimationFrame(()=>{if(r.current&&(D(o),r.current.value=o,r.current.setSelectionRange(l,l),(o!==ae||v)&&_)){const re={...n,target:{...h,value:o}};_(re,o)}})},[p,v,_,x]),X=[s.fieldset,F].filter(Boolean).join(" "),Y=[s.inputWrapper,S,f?s.inputWrapperError:""].filter(Boolean).join(" "),Z=[z].filter(Boolean).join(" "),ee=[s.suffixButton,d?s.suffixButtonInteractive:""].filter(Boolean).join(" ");!t&&!V&&!E&&console.warn("Advarsel: DateInput-komponenten bør ha label, aria-label, eller aria-labelledby for tilgjengelighet.");const B=t&&typeof t=="string"?E||`${c}-label`:void 0,R=C?`${c}-desc`:void 0,q=f?`${c}-err`:void 0,te=[R,q].filter(Boolean).join(" ")||void 0;return i.jsxs("div",{className:X,"data-color":J,"data-size":K,children:[t&&typeof t=="string"?i.jsx("label",{id:B,htmlFor:c,children:t}):t,C&&i.jsx("p",{id:R,className:s.description,children:C}),i.jsxs("div",{className:Y,children:[i.jsx("input",{ref:r,type:"text",inputMode:"numeric",pattern:"\\d{2}\\.\\d{2}\\.\\d{4}",maxLength:10,value:p,readOnly:L,placeholder:M,id:c,name:w,required:P,disabled:y,onClick:A,onChange:U,onFocus:T,onBlur:O,autoComplete:G,"aria-label":V,"aria-labelledby":B,"aria-describedby":te,"aria-invalid":!!f,className:Z,...Q}),g&&i.jsx("button",{type:"button",className:ee,onClick:y?void 0:d,tabIndex:d&&!y?0:-1,"aria-hidden":!d,disabled:y,"aria-label":d?"Åpne datovelger":void 0,children:g})]}),f&&i.jsx("p",{id:q,className:s.error,role:"alert",children:f})]})});N.displayName="DateInput";try{N.displayName="DateInput",N.__docgenInfo={description:`DateInput-komponent for inntasting av datoer i norsk format (dd.mm.åååå).
Håndterer automatisk formatering og validering av datoer.`,displayName:"DateInput",props:{"data-size":{defaultValue:null,description:"Endrer størrelse for underliggende Designsystemet-komponenter. Velg fra forhåndsdefinerte størrelser.",name:"data-size",required:!1,type:{name:"Size"}},"data-color":{defaultValue:null,description:`Endrer farge for underliggende Designsystemet-komponenter.
Velg fra forhåndsdefinerte farger og farger definert med theme.designsystemet.no.`,name:"data-color",required:!1,type:{name:"Color"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"React.ReactNode"}},suffixIcon:{defaultValue:null,description:"",name:"suffixIcon",required:!1,type:{name:"React.ReactNode"}},onSuffixClick:{defaultValue:null,description:"",name:"onSuffixClick",required:!1,type:{name:"React.MouseEventHandler<HTMLButtonElement>"}},inputWrapperClassName:{defaultValue:null,description:"",name:"inputWrapperClassName",required:!1,type:{name:"string"}},inputClassName:{defaultValue:null,description:"",name:"inputClassName",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"",name:"aria-labelledby",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"React.ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"React.ReactNode"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(event: React.ChangeEvent<HTMLInputElement>, formattedValue: string) => void"}}}}}catch{}export{N as D};
