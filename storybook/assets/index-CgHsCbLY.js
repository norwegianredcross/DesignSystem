import{r as d,R as ie,j as s}from"./iframe-C6Lx4lhX.js";import{u as se}from"./LanguageContext-gkrE5Wku.js";const oe="_fieldset_16fx7_2",ue="_description_16fx7_14",de="_error_16fx7_21",ce="_inputWrapper_16fx7_30",fe="_inputWrapperError_16fx7_42",pe="_suffixButton_16fx7_80",me="_suffixButtonInteractive_16fx7_100",o={fieldset:oe,description:ue,error:de,inputWrapper:ce,inputWrapperError:fe,suffixButton:pe,suffixButtonInteractive:me},W=t=>{const e=t.slice(0,2),a=t.slice(2,4),n=t.slice(4,8);return t.length>4?`${e}.${a}.${n}`:t.length>2?`${e}.${a}`:t.length>0?e:""},$=t=>(t||"").replace(/\D/g,""),F=t=>{let e=t;if(e.length>=2){const a=parseInt(e.substring(0,2),10);!isNaN(a)&&a>31&&(e="31"+e.substring(2))}if(e.length>=4){const a=parseInt(e.substring(2,4),10);!isNaN(a)&&a>12&&(e=e.substring(0,2)+"12"+e.substring(4))}return e.slice(0,8)},N=d.forwardRef((t,e)=>{const{t:a}=se(),{label:n,suffixIcon:V,onSuffixClick:c,className:S,inputWrapperClassName:z,inputClassName:L,value:b,defaultValue:H,onChange:_,readOnly:M,placeholder:w="dd.mm.åååå",id:f,name:P,required:A,disabled:y,onClick:O,onFocus:T,onBlur:G,autoComplete:J="off","aria-label":E,"aria-labelledby":D,description:C,error:p,"data-color":K,"data-size":Q,...U}=t,v=b!==void 0,l=d.useRef(null);ie.useImperativeHandle(e,()=>l.current);const x=d.useCallback(r=>{const h=$(r),I=F(h);return W(I)},[]),[m,B]=d.useState(()=>x(b??H));d.useEffect(()=>{if(v){const r=x(b);r!==m&&(B(r),l.current&&l.current.value!==r&&(l.current.value=r))}},[b,v,m,x]);const X=d.useCallback(r=>{const h=r.target,I=h.value,ne=m,re=$(I).slice(0,8),k=F(re),u=W(k);let i=0;const g=k.length;g<=2?i=g:g<=4?i=g+1:i=g+2,i=Math.min(i,u.length),requestAnimationFrame(()=>{if(l.current&&(B(u),l.current.value=u,l.current.setSelectionRange(i,i),(u!==ne||v)&&_)){const le={...r,target:{...h,value:u}};_(le,u)}})},[m,v,_,x]),Y=[o.fieldset,S].filter(Boolean).join(" "),Z=[o.inputWrapper,z,p?o.inputWrapperError:""].filter(Boolean).join(" "),ee=[L].filter(Boolean).join(" "),te=[o.suffixButton,c?o.suffixButtonInteractive:""].filter(Boolean).join(" ");!n&&!E&&!D&&console.warn("Advarsel: DateInput-komponenten bør ha label, aria-label, eller aria-labelledby for tilgjengelighet.");const R=n&&typeof n=="string"?D||`${f}-label`:void 0,q=C?`${f}-desc`:void 0,j=p?`${f}-err`:void 0,ae=[q,j].filter(Boolean).join(" ")||void 0;return s.jsxs("div",{className:Y,"data-color":K,"data-size":Q,children:[n&&typeof n=="string"?s.jsx("label",{id:R,htmlFor:f,children:n}):n,C&&s.jsx("p",{id:q,className:o.description,children:C}),s.jsxs("div",{className:Z,children:[s.jsx("input",{ref:l,type:"text",inputMode:"numeric",pattern:"\\d{2}\\.\\d{2}\\.\\d{4}",maxLength:10,value:m,readOnly:M,placeholder:w,id:f,name:P,required:A,disabled:y,onClick:O,onChange:X,onFocus:T,onBlur:G,autoComplete:J,"aria-label":E,"aria-labelledby":R,"aria-describedby":ae,"aria-invalid":!!p,className:ee,...U}),V&&s.jsx("button",{type:"button",className:te,onClick:y?void 0:c,tabIndex:c&&!y?0:-1,"aria-hidden":!c,disabled:y,"aria-label":c?a("dateInput.openDatePicker"):void 0,children:V})]}),p&&s.jsx("p",{id:j,className:o.error,role:"alert",children:p})]})});N.displayName="DateInput";try{N.displayName="DateInput",N.__docgenInfo={description:`DateInput-komponent for inntasting av datoer i norsk format (dd.mm.åååå).
Håndterer automatisk formatering og validering av datoer.`,displayName:"DateInput",props:{"data-size":{defaultValue:null,description:"Endrer størrelse for underliggende Designsystemet-komponenter. Velg fra forhåndsdefinerte størrelser.",name:"data-size",required:!1,type:{name:"Size"}},"data-color":{defaultValue:null,description:`Endrer farge for underliggende Designsystemet-komponenter.
Velg fra forhåndsdefinerte farger og farger definert med theme.designsystemet.no.`,name:"data-color",required:!1,type:{name:"Color"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"React.ReactNode"}},suffixIcon:{defaultValue:null,description:"",name:"suffixIcon",required:!1,type:{name:"React.ReactNode"}},onSuffixClick:{defaultValue:null,description:"",name:"onSuffixClick",required:!1,type:{name:"React.MouseEventHandler<HTMLButtonElement>"}},inputWrapperClassName:{defaultValue:null,description:"",name:"inputWrapperClassName",required:!1,type:{name:"string"}},inputClassName:{defaultValue:null,description:"",name:"inputClassName",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"",name:"aria-labelledby",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"React.ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"React.ReactNode"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(event: React.ChangeEvent<HTMLInputElement>, formattedValue: string) => void"}}}}}catch{}export{N as D};
