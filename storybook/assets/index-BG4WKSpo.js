import{r as u,R as le,j as i}from"./iframe-BHNwM2Px.js";const ie="_fieldset_16fx7_2",se="_description_16fx7_14",oe="_error_16fx7_21",ue="_inputWrapper_16fx7_30",de="_inputWrapperError_16fx7_42",ce="_suffixButton_16fx7_80",pe="_suffixButtonInteractive_16fx7_100",s={fieldset:ie,description:se,error:oe,inputWrapper:ue,inputWrapperError:de,suffixButton:ce,suffixButtonInteractive:pe},W=a=>{const e=a.slice(0,2),t=a.slice(2,4),g=a.slice(4,8);return a.length>4?`${e}.${t}.${g}`:a.length>2?`${e}.${t}`:a.length>0?e:""},S=a=>(a||"").replace(/\D/g,""),z=a=>{let e=a;if(e.length>=2){const t=parseInt(e.substring(0,2),10);!isNaN(t)&&t>31&&(e="31"+e.substring(2))}if(e.length>=4){const t=parseInt(e.substring(2,4),10);!isNaN(t)&&t>12&&(e=e.substring(0,2)+"12"+e.substring(4))}return e.slice(0,8)},I=u.forwardRef((a,e)=>{const{label:t,suffixIcon:g,onSuffixClick:d,className:$,inputWrapperClassName:k,inputClassName:F,value:y,defaultValue:L,onChange:C,readOnly:M,placeholder:w="dd.mm.åååå",id:c,name:H,required:P,disabled:b,onClick:T,onFocus:A,onBlur:O,autoComplete:G="off","aria-label":V,"aria-labelledby":B,description:_,error:p,"data-color":J,"data-size":K,...Q}=a,x=y!==void 0,r=u.useRef(null);le.useImperativeHandle(e,()=>r.current);const v=u.useCallback(n=>{const h=S(n),N=z(h);return W(N)},[]),[f,D]=u.useState(()=>v(y??L));u.useEffect(()=>{if(x){const n=v(y);n!==f&&(D(n),r.current&&r.current.value!==n&&(r.current.value=n))}},[y,x,f,v]);const U=u.useCallback(n=>{const h=n.target,N=h.value,ae=f,ne=S(N).slice(0,8),E=z(ne),o=W(E);let l=0;const m=E.length;m<=2?l=m:m<=4?l=m+1:l=m+2,l=Math.min(l,o.length),requestAnimationFrame(()=>{if(r.current&&(D(o),r.current.value=o,r.current.setSelectionRange(l,l),(o!==ae||x)&&C)){const re={...n,target:{...h,value:o}};C(re,o)}})},[f,x,C,v]),X=[s.fieldset,$].filter(Boolean).join(" "),Y=[s.inputWrapper,k,p?s.inputWrapperError:""].filter(Boolean).join(" "),Z=[F].filter(Boolean).join(" "),ee=[s.suffixButton,d?s.suffixButtonInteractive:""].filter(Boolean).join(" ");!t&&!V&&!B&&console.warn("Warning: DateInput component should have a label, aria-label, or aria-labelledby for accessibility.");const R=t&&typeof t=="string"?B||`${c}-label`:void 0,q=_?`${c}-desc`:void 0,j=p?`${c}-err`:void 0,te=[q,j].filter(Boolean).join(" ")||void 0;return i.jsxs("div",{className:X,"data-color":J,"data-size":K,children:[t&&typeof t=="string"?i.jsx("label",{id:R,htmlFor:c,children:t}):t,_&&i.jsx("p",{id:q,className:s.description,children:_}),i.jsxs("div",{className:Y,children:[i.jsx("input",{ref:r,type:"text",inputMode:"numeric",pattern:"\\d{2}\\.\\d{2}\\.\\d{4}",maxLength:10,value:f,readOnly:M,placeholder:w,id:c,name:H,required:P,disabled:b,onClick:T,onChange:U,onFocus:A,onBlur:O,autoComplete:G,"aria-label":V,"aria-labelledby":R,"aria-describedby":te,"aria-invalid":!!p,className:Z,...Q}),g&&i.jsx("button",{type:"button",className:ee,onClick:b?void 0:d,tabIndex:d&&!b?0:-1,"aria-hidden":!d,disabled:b,"aria-label":d?"Åpne datovelger":void 0,children:g})]}),p&&i.jsx("p",{id:j,className:s.error,role:"alert",children:p})]})});I.displayName="DateInput";try{I.displayName="DateInput",I.__docgenInfo={description:"",displayName:"DateInput",props:{"data-size":{defaultValue:null,description:"Changes size for descendant Designsystemet components. Select from predefined sizes.",name:"data-size",required:!1,type:{name:"Size"}},"data-color":{defaultValue:null,description:`Changes color for descendant Designsystemet components.
Select from predefined colors and colors defined using theme.designsystemet.no.`,name:"data-color",required:!1,type:{name:"Color"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"React.ReactNode"}},suffixIcon:{defaultValue:null,description:"",name:"suffixIcon",required:!1,type:{name:"React.ReactNode"}},onSuffixClick:{defaultValue:null,description:"",name:"onSuffixClick",required:!1,type:{name:"React.MouseEventHandler<HTMLButtonElement>"}},inputWrapperClassName:{defaultValue:null,description:"",name:"inputWrapperClassName",required:!1,type:{name:"string"}},inputClassName:{defaultValue:null,description:"",name:"inputClassName",required:!1,type:{name:"string"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},"aria-labelledby":{defaultValue:null,description:"",name:"aria-labelledby",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"React.ReactNode"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"React.ReactNode"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(event: React.ChangeEvent<HTMLInputElement>, formattedValue: string) => void"}}}}}catch{}export{I as D};
